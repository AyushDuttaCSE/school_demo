{% extends "base.html" %}
{% block content %}

<h2 class="text-center mb-4">Admin Dashboard</h2>

<a href="/admin/logout" class="btn btn-danger mb-3">Logout</a>

<div class="row">

    <div class="col-md-6">
        <div class="card shadow p-3">
            <h4>Add Notice</h4>
            <form action="/admin/add_notice" method="POST">
                <input type="text" name="title" class="form-control mb-2" placeholder="Notice title" required>
                <textarea name="content" class="form-control mb-2" placeholder="Content" rows="3" required></textarea>
                <button class="btn btn-primary w-100">Add Notice</button>
            </form>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card shadow p-3">
            <h4>Recent Notices</h4>
            <ul class="list-group">
                {% for n in notices %}
                <li class="list-group-item">
                    <b>{{ n.title }}</b><br>
                    {{ n.content }}
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>

</div>

<hr class="mt-4">

<h4>Latest Admission Forms</h4>

<table class="table table-striped table-bordered mt-3">
    <thead class="table-dark">
        <tr>
            <th>Name</th>
            <th>Class</th>
            <th>Age</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Message</th>
        </tr>
    </thead>

    <tbody>
        {% for a in admissions %}
        <tr>
            <td>{{ a.student_name }}</td>
            <td>{{ a.student_class }}</td>
            <td>{{ a.age }}</td>
            <td>{{ a.parent_email }}</td>
            <td>{{ a.phone }}</td>
            <td>{{ a.message }}</td>
        </tr>
        {% endfor %}
    </tbody>

</table>

{% endblock %}
